### CONFIGURATION ###



## GENERAL ##
homeassistant:
  # Name of the location where Home Assistant is running
  name: Home
  # Location required to calculate the time the sun rises and sets
  latitude: !secret latitude
  longitude: !secret longitude
  # Impacts weather/sunrise data (altitude above sea level in meters)
  elevation: 298
  # metric for Metric, imperial for Imperial
  unit_system: imperial
  time_zone: America/Chicago
  customize: !include customize.yaml

##Enable cloud
cloud:
  google_actions:
    filter:
      include_entities:
       - group.firstfloorlights
       - group.secondfloorlights
       - group.bedroomlamps
       - group.decorative
       - group.fireplace_lights
       - group.color
       - group.christmas_lights
       - fan.bedroom
      exclude_domains:
       - group
       - switch
       - input_boolean
       - script
       - automation
       - scene
       - climate
       - media_player
       - cover
      exclude_entities:
       - light.left_lamp
       - light.right_lamp
       - light.floor_lamp
       - light.liam_lamp
       - light.ryan_bloom
       - light.kristi_bloom
       - light.ryan_reading_lamp
       - light.kristi_reading_lamp
       - light.office_lamp
       - light.spare_lamp
#  entity_config:
#        group.color:
#          name: Color Lights
#            aliases:
#             - stupid lights



# Show links to resources in log and frontend
# introduction:

http:
  api_password: !secret api_password
  ssl_certificate: !secret ssl_certificate
  ssl_key: !secret ssl_key
  base_url: !secret base_url
  trusted_networks:
    - 192.168.1.0/24
    - 127.0.0.1

# Enables the frontend
frontend:
    extra_html_url:
      - /local/custom_ui/state-card-floorplan.html
    themes:
      standard:
        primary-color: blue
      alert_day:
        primary-color: red
      darkred:
# Main colors that can be changed
        dark-primary-color: "#c66900"
        disabled-text-color: "#545454"
        divider-color: "rgba(255, 255, 255, 0.12)"
        light-primary-color: "#e06c6c"
        paper-card-background-color: "#1d1d1d"
        paper-grey-200: "#191919"
        paper-item-icon-color: "#d3d3d3"
        paper-listbox-background-color: "#202020"
        primary-background-color: "#303030"
        primary-color: "#d32f2f"
        primary-text-color: "#cfcfcf"
        secondary-background-color: "#131313"
        sidebar-text_-_background: "#62717b"
# Colors based on variables, see above
        paper-card-header-color: "var(--paper-item-icon-color)"
        paper-item-icon-active-color: "var(--primary-color)"
        paper-item-icon_-_color: "var(--primary-text-color)"
        paper-listbox-color: "var(--primary-text-color)"
        paper-grey-50: "var(--primary-text-color)"
        paper-slider-active-color: "var(--primary-color)"
        paper-slider-knob-color: "var(--primary-color)"
        paper-slider-knob-start-color: "var(--primary-color)"
        paper-slider-pin-color: "var(--primary-color)"
        paper-slider-secondary-color: "var(--light-primary-color)"
        paper-toggle-button-checked-ink-color: "var(--dark-primary-color)"
        paper-toggle-button-checked-button-color: "var(--primary-color)"
        paper-toggle-button-checked-bar-color: "var(--light-primary-color)"
        paper-toggle-button-unchecked-bar-color: "var(--primary-text-color)"
        secondary-text-color: "var(--primary-color)"
        table-row-background-color: "var(--paper-card-background-color)"
        table-row-alternative-background-color: "var(--sidebar-text_-_background)"
      midnight:
# Main colors
        primary-color: '#5294E2'                                                        # Header
        accent-color: '#E45E65'                                                         # Accent color
        dark-primary-color: 'var(--accent-color)'                                       # Hyperlinks
        light-primary-color: 'var(--accent-color)'                                      # Horizontal line in about

# Text colors
        primary-text-color: '#FFFFFF'                                                   # Primary text colour, here is referencing dark-primary-color
        text-primary-color: 'var(--primary-text-color)'                                 # Primary text colour
        secondary-text-color: '#5294E2'                                                 # For secondary titles in more info boxes etc.
        disabled-text-color: '#7F848E'                                                  # Disabled text colour
        label-badge-border-color: 'green'                                               # Label badge border, just a reference value

# Background colors
        primary-background-color: '#383C45'                                             # Settings background
        secondary-background-color: '#383C45'                                           # Main card UI background
        divider-color: 'rgba(0, 0, 0, .12)'                                             # Divider

        # Table rows
        table-row-background-color: '#353840'                                           # Table row
        table-row-alternative-background-color: '#3E424B'                               # Table row alternative

# Nav Menu
        paper-listbox-color: 'var(--primary-color)'                                     # Navigation menu selection hoover
        paper-listbox-background-color: '#2E333A'                                       # Navigation menu background
        paper-grey-50: 'var(--primary-text-color)'
        paper-grey-200: '#414A59'                                                       # Navigation menu selection

# Paper card
        paper-card-header-color: 'var(--accent-color)'                                  # Card header text colour
        paper-card-background-color: '#434954'                                          # Card background colour
        paper-dialog-background-color: '#434954'                                        # Card dialog background colour
        paper-item-icon-color: 'var(--primary-text-color)'                              # Icon color
        paper-item-icon-active-color: '#F9C536'                                         # Icon color active
        paper-item-icon_-_color: 'green'
        paper-item-selected_-_background-color: '#434954'                               # Popup item select
        paper-tabs-selection-bar-color: 'green'

# Labels
        label-badge-red: 'var(--accent-color)'                                          # References the brand colour label badge border
        label-badge-text-color: 'var(--primary-text-color)'                             # Now same as label badge border but that's a matter of taste
        label-badge-background-color: '#2E333A'                                         # Same, but can also be set to transparent here

# Switches
        paper-toggle-button-checked-button-color: 'var(--accent-color)'
        paper-toggle-button-checked-bar-color: 'var(--accent-color)'
        paper-toggle-button-checked-ink-color: 'var(--accent-color)'
        paper-toggle-button-unchecked-button-color: 'var(--disabled-text-color)'
        paper-toggle-button-unchecked-bar-color: 'var(--disabled-text-color)'
        paper-toggle-button-unchecked-ink-color: 'var(--disabled-text-color)'

# Sliders
        paper-slider-knob-color: 'var(--accent-color)'
        paper-slider-knob-start-color: 'var(--accent-color)'
        paper-slider-pin-color: 'var(--accent-color)'
        paper-slider-active-color: 'var(--accent-color)'
        paper-slider-container-color: 'linear-gradient(var(--primary-background-color), var(--secondary-background-color)) no-repeat'
        paper-slider-secondary-color: 'var(--secondary-background-color)'
        paper-slider-disabled-active-color: 'var(--disabled-text-color)'
        paper-slider-disabled-secondary-color: 'var(--disabled-text-color)'

# Google colors
        google-red-500: '#E45E65'
        google-green-500: '#39E949'

# Checks for available updates
updater:

# Discover some devices automatically
discovery:

# Add Config Panel
config:

# Allows you to issue voice commands from the frontend in enabled browsers
conversation:

# Enables support for tracking state changes over time.
history:

# Enable map
map:

# View all events in a logbook
logbook:

##Enable Recorder for Persistant input_select
recorder:

# Track the sun
sun:

ios:

#Add WeMo
wemo:

#Python Scripting
python_script:

##ZWAVE
# zwave:
#   usb_path: /dev/ttyAMA0

#Add Input Select
input_select:
  home_status:
    name: Status of House
    options:
    - Home
    - Away
    - Vacation
    - Sleep
    initial: Home
    icon: mdi:House

  washing_machine_status:
    name: Washing Machine
    options:
    - Idle
    - Running
    - Clean
    initial: Idle
    icon: mdi:washing-machine

  dryer_status:
    name: Dryer
    options:
    - Idle
    - Running
    - Clean
    initial: Idle
    icon: mdi:washing-machine

  ryan_phone_status:
    name: Ryans Phone Status
    options:
    - On Battery
    - Charging
    - Low Battery
    - In Car
    - Sleep
    initial: On Battery
    icon: mdi:cellphone-android

  kristi_phone_status:
    name: Kristis Phone Status
    options:
    - On Battery
    - Charging
    - Low Battery
    - In Car
    - Sleep
    initial: On Battery
    icon: mdi:cellphone-android

  gmusic_playlists:
    name: Google Music Playlist
    options:
    - Thumbs Up
    - Yoga
    - Deep Beats
    - Worship
    - Morning Flow
    - Meditate Nature
    - TransAtlantic Lullaby
    - SPA Treatment

  media_speakers:
    name: Media Speakers
    options:
    - Home Group
    - Bedroom Suite
    - Bedroom Home
    - Bathroom Home
    - Office Home
    - Office Speakers
    - Kitchen Home
    - Soundbar

ifttt:
  key: !secret ifttt_key

#APCUPS
#apcupsd:

#JOIN
# joaoapps_join:
#   - name: Join
#     device_id: group.join
#     api_key: !secret join_key

mqtt:
  broker: !secret mqtt_ip
  port: 1883
  client_id: haas
  keepalive: 60
  protocol: 3.1.1
  discovery: true 
  discovery_prefix: homeassistant
  birth_message:
    topic: 'hass/status'
    payload: 'online'
  will_message:
    topic: 'hass/status'
    payload: 'offline'


media_player:
  - platform: plex
  - platform: cast
  - platform: roku
  - platform: webostv
    host: !secret play_tv_ip
  - platform: xboxone
    device: !secret xbox_one
    name: Xbox One

nest:
  client_id: !secret nest_id
  client_secret: !secret nest_secret

google:
  client_id: !secret google_id
  client_secret: !secret google_secret

ring:
  username: !secret email
  password: !secret ring_pass

alarm_control_panel:
  platform: mqtt
  state_topic: "smartthings/alarm system status/alarmSystemStatus/state"
  command_topic: "smartthings/alarm system status/alarmSystemStatus/set"
  name: "SHM"
  payload_disarm: "disarmed"
  payload_arm_home: "armed_home"
  payload_arm_away: "armed_away"
  code: !secret alarmcode

tts:
  - platform: google
    language: 'en-us'
    cache: true
    cache_dir: /tmp/tts
    time_memory: 300

#google_assistant:
#  project_id: !secret ga_project
#  client_id: !secret ga_id
#  access_token: !secret ga_token

shell_command:
  get_latest_config: 'python3 /config/python_scripts/git_pull_wrapper.py'

climate:
  platform: nest

device_tracker:
  - platform: unifi
    host: !secret server_ip
    port: 8443
    username: !secret email
    password: !secret unifi_pass
    verify_ssl: false
    new_device_defaults:
      track_new_devices: true
      hide_if_away: False
  - platform: ping
    hosts:
      mom: !secret mom_ip
  - platform: google_maps
    username: !secret google_user
    password: !secret google_pass
    max_gps_accuracy: 500

# owntracks:

#Cameras
camera:
  - platform: mjpeg
    mjpeg_url: !secret baby_cam_url
    name: Baby Camera
  - platform: mjpeg
    mjpeg_url: !secret deck_cam_url
    name: Back Deck Camera
  - platform: mjpeg
    mjpeg_url: !secret play_cam_url
    name: Play Room Camera
  - platform: mjpeg
    mjpeg_url: !secret front_cam_url
    name: Front House Camera
  - platform: mjpeg
    mjpeg_url: !secret basement_cam_url
    name: Basement
  - platform: generic 
    name: Living Room
    username: !secret cam_user
    password: !secret cam_pass
    authentication: basic
    still_image_url: !secret lr_cam_url
    verify_ssl: false
    scan_interval: 5
  - platform: generic 
    name: Garage Camera
    username: !secret cam_user
    password: !secret cam_pass
    authentication: basic
    still_image_url: !secret garage_cam_url
    verify_ssl: false
    scan_interval: 5
  - platform: ring
  - platform: usps
    scan_interval: 5

ffmpeg:

#zoneminder:
#  host: !secret ZM_HOST
#  path: /zm
#  path_zms: /zm/cgi-bin/nph-zms
#  ssl: False
#  username: !secret ZM_USERNAME
#  password: !secret ZM_PASSWORD

##USPS Package Tracking
usps:
    username: !secret usps_user
    password: !secret usps_pass
    driver: chrome

cover:
  - platform: myq
    username: !secret email
    password: !secret myq_pass
    type: liftmaster

rachio:
  api_key: !secret rachio_api

proximity:
  home:
    ignored_zones:
      - Pivot
      - Mason
    devices:
      - device_tracker.ryan_note8
      - device_tracker.kristi_s7
    tolerance: 50
    unit_of_measurement: mi

hue:
  bridges:
    - host: !secret hue_ip
      allow_unreachable: true

# insteon:
#   host: !secret insteon_ip
#   ip_port: !secret insteon_port
#   username:  !secret insteon_user
#   password: !secret insteon_pass
#   hub_version: 2
    
variable:  
  last_motion:
    value: 'Unknown'
    restore: true
    attributes:
      icon: mdi:map-marker
      name: "Last Motion"
  last_door:
    value: 'Unknown'
    restore: true
    attributes:
      icon: mdi:door-open
      name: "Last Door"
      
# panel_custom:
#   - name: floorplan
#     sidebar_title: Floorplan
#     sidebar_icon: mdi:home
#     url_path: floorplan
#     config: !include floorplan.yaml
    
telegram_bot: 
  - platform: polling 
    api_key: !secret telegram_api 
    allowed_chat_ids: 
      - !secret telegram_ryan

panel_iframe:
  rachio:
    title: Rachio
    url: "https://app.rach.io"
    icon: mdi:water-pump
  terminal:
    title: Terminal
    icon: mdi:console
    url: "https://hollandhaus.duckdns.org:7681"

weather:
  - platform: darksky
    api_key: !secret dark_sky_api

####################################################
#                                                  #
#                     Includes                     #
#                                                  #
####################################################

##Zones
zone: !include zones.yaml

##Notify
notify: !include notify.yaml

##Groups
group: !include groups.yaml

##Scenes
scene: !include scenes.yaml

##Sensors
sensor: !include sensors.yaml

##Automation
automation: !include automation/automation.yaml

##Switches
switch: !include switches.yaml

##Scripts
script: !include scripts.yaml

##Binary Sensor
binary_sensor: !include binary.yaml

##Alerts
alert: !include alert.yaml

##Locks
lock: !include lock.yaml

##Lights
light: !include lights.yaml

##input_boolean
input_boolean: !include input_boolean.yaml


##rest_commands
rest_command: !include rest.yaml
